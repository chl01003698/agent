webpackJsonp([8],{B9ya:function(t,e,n){"use strict";function r(t){n("S5mt")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("ABCa"),o=n("pDNl"),i=n("1DHf"),s=n("rHil"),c=n("2sLL"),u=n("+zLN"),l=n("mzja"),p=n("Wqb0"),d=n.n(p),v=n("Dod7"),f=n("M9A7"),h={name:"turn-the-card",components:{XHeader:a.a,XInput:o.a,Cell:i.a,Group:s.a,XButton:c.a,AlertModule:u.a,Alert:l.a},methods:{trunCard:function(){var t=this;return this.isSelf?this.trunCardToSelf():this.turnCount<1?this.$vux.toast.text("请输入大于0的转卡数"):void v.b("/api/v1/agentcards",{childrenid:this.$route.params.id,cardnum:this.turnCount},function(e){var n=e.data,r=n.msg||n.error||"请求失败";if(0!==n.code)return t.$vux.toast.text(r,"middle");v.e("user_stock",parseInt(v.c("user_stock"))-parseInt(t.turnCount)),t.$vux.alert.show({title:"温馨提示",content:r,onHide:function(){t.$router.go(-1)}})},function(t){console.log(t)})},trunCardToSelf:function(){var t=this;v.b("/api/v1/agentcards/stocktocard",{cardnum:this.turnCount},function(e){var n=e.data,r=n.msg||n.error||"请求失败";if(0!==n.code)return t.$vux.toast.text(r,"middle"),!1;v.e("user_stock",parseInt(v.c("user_stock"))-parseInt(t.turnCount)),v.e("user_card",parseInt(v.c("user_card"))+parseInt(t.turnCount)),t.$vux.alert.show({title:"温馨提示",content:r,onHide:function(){t.$router.go(-1)}})},function(t){console.log(t)})}},data:function(){return{show:!1,params:{},placeHolderText:"",turnCount:"",isSelf:!1,myCard:v.c("user_card"),myStock:v.c("user_stock")}},created:function(){var t=this;Object(f.a)(this);var e=this.$route.fullPath.split("?")[1];this.params=d.a.parse(e),this.isSelf=this.$route.params.id.toString()===v.c("user_"+v.c("user_identity").current+"ShortId").toString(),v.b("/api/v1/agents/userinfo",null,function(e){var n=e.data;t.placeHolderText="最多"+n.coin.stock+"张房卡"},function(t){console.log(t)},"GET")}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%"}},[n("x-header",[t._v("\n    转卡\n  ")]),t._v(" "),t.isSelf?n("div",{staticClass:"container"},[n("h3",{staticStyle:{"padding-top":"15px","padding-bottom":"15px","text-align":"center",color:"#fd7651","border-bottom":"1px solid #ccc"}},[t._v("从库存转卡给自己的游戏账户")]),t._v(" "),n("div",{staticClass:"user-info",staticStyle:{width:"60%",margin:"0 auto","border-top":"0","text-align":"left"}},[n("p",[t._v("　　我的游戏桌卡数："),n("strong",[t._v(t._s(t.myCard))])]),t._v(" "),n("p",[t._v("我的游戏桌卡库存数："),n("strong",[t._v(t._s(t.myStock))])])]),t._v(" "),n("div",{staticClass:"user-action"},[n("group",[n("x-input",{attrs:{title:"转卡数：",max:parseInt(t.params.stock),placeholder:t.placeHolderText},model:{value:t.turnCount,callback:function(e){t.turnCount=e},expression:"turnCount"}})],1)],1)]):n("div",{staticClass:"container"},[n("group",[n("cell",{attrs:{title:"　转卡给：",value:t.params.nickname,"value-align":"left"}}),t._v(" "),n("cell",{attrs:{title:"　用户ID：",value:t.$route.params.id,"value-align":"left"}}),t._v(" "),n("x-input",{attrs:{title:"房卡数量：",max:parseInt(t.params.stock),placeholder:t.placeHolderText},model:{value:t.turnCount,callback:function(e){t.turnCount=e},expression:"turnCount"}})],1)],1),t._v(" "),n("div",{staticClass:"act-btn"},[n("x-button",{attrs:{type:"warn"},nativeOn:{click:function(e){t.trunCard(e)}}},[t._v("确定")])],1),t._v(" "),n("alert",{attrs:{title:"温馨提示"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("转卡成功！")])],1)},C=[],m={render:g,staticRenderFns:C},x=m,A=n("VU/8"),_=r,b=A(h,x,!1,_,"data-v-7548c6ed",null);e.default=b.exports},KRiB:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"\n.act-btn[data-v-7548c6ed] {\n  padding:10px;\n}\n.user-info[data-v-7548c6ed] {\n  text-align:center;\n  line-height:30px;\n  border-top:1px solid #ccc;\n  padding-top:15px;\n  color:#5e5e5e;\n}\n","",{version:3,sources:["E:/works/chess-agent-web/src/views/Customer/TurnTheCard.vue"],names:[],mappings:";AACA;EACE,aAAa;CACd;AACD;EACE,kBAAkB;EAClB,iBAAiB;EACjB,0BAA0B;EAC1B,iBAAiB;EACjB,cAAc;CACf",file:"TurnTheCard.vue",sourcesContent:["\n.act-btn[data-v-7548c6ed] {\n  padding:10px;\n}\n.user-info[data-v-7548c6ed] {\n  text-align:center;\n  line-height:30px;\n  border-top:1px solid #ccc;\n  padding-top:15px;\n  color:#5e5e5e;\n}\n"],sourceRoot:""}])},S5mt:function(t,e,n){var r=n("KRiB");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("2eb95571",r,!0)},Wqb0:function(t,e){function n(t){return t&&"[object Object]"===o.call(t)&&"isPrototypeOf"in t}function r(t){return t!==Object(t)}var a=e;a.escape=encodeURIComponent,a.unescape=function(t){return decodeURIComponent(t.replace(/\+/g," "))},a.stringify=function(t,e,o,c){if(!n(t))return"";e=e||"&",o=o||"=",c=c||!1;var u,l,p=[],d=a.escape;for(u in t)if(i.call(t,u))if(l=t[u],u=a.escape(u),r(l))p.push(u,o,d(l+""),e);else if(s(l)&&l.length)for(var v=0;v<l.length;v++)r(l[v])&&p.push(u,(c?d("[]"):"")+o,d(l[v]+""),e);else p.push(u,o,e);return p.pop(),p.join("")},a.parse=function(t,e,n){void 0===t&&(t=document.location.search);var r={};if("string"!=typeof t||0===c(t).length)return r;t=t.replace(/^\?/,"");var o=t.split(e||"&");n=n||"=";for(var u=a.unescape,l=0;l<o.length;l++){var p=o[l].split(n),d=u(c(p[0])),v=u(c(p.slice(1).join(n))),f=d.match(/^(\w+)\[\]$/);f&&f[1]&&(d=f[1]),i.call(r,d)?(s(r[d])||(r[d]=[r[d]]),r[d].push(v)):r[d]=f?[v]:v}return r};var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,s=Array.isArray||function(t){return"[object Array]"===o.call(t)},c=String.prototype.trim?function(t){return null==t?"":String.prototype.trim.call(t)}:function(t){return null==t?"":t.toString().replace(/^\s+/,"").replace(/\s+$/,"")}}});
//# sourceMappingURL=8.bba5a540978ee4124207.js.map